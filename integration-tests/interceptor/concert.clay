model Concert {
  id: Int @pk @autoincrement
  title: String
  venue: Venue @column("venueid")
  published: Boolean
  price: Decimal @precision(20) @scale(2)
}

model Venue {
  id: Int @pk @autoincrement
  name: String
  concerts: Set[Concert] @column("venueid")
  published: Boolean
  latitude: Float @size(4)
}


@external("log.js")
service Log {
  @before("mutation *Concert*")
  interceptor logConcert(operation: Operation)

  @before("mutation *Venue*")
  interceptor logVenue(operation: Operation)

  @around("query *")
  interceptor timeQuery(operation: Operation)

  @around("mutation *")
  interceptor timeMutation(operation: Operation)
}