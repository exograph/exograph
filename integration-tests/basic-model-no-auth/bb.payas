context AuthContext {
  id: Int @jwt("sub")
  role: String @jwt("role")
}

@table("concerts")
model Concert {
  id: Int @pk @autoincrement
  title: String
  venue: Venue @column("venueid")
}

@table("venues")
@access(AuthContext.role == "ROLE_ADMIN" || self.published)
model Venue {
  id: Int @pk @autoincrement
  name: String
  concerts: [Concert] @column("venueid")
  published: Boolean
}
