[package]
name = "server-common"
version.workspace = true
edition.workspace = true
publish = false

[dependencies]
thiserror.workspace = true
common = { path = "../common", features = ["opentelemetry"] }
graphql-router = { path = "../graphql-router" }
system-router = { path = "../system-router" }
core-router = { path = "../core-subsystem/core-router" }
core-resolver = { path = "../core-subsystem/core-resolver" }
core-plugin-interface = { path = "../core-subsystem/core-plugin-interface" }
postgres-graphql-resolver = { path = "../postgres-subsystem/postgres-graphql-resolver", features = [
  "network",
  "bigdecimal",
], optional = true }
deno-graphql-resolver = { path = "../deno-subsystem/deno-graphql-resolver", optional = true }
wasm-graphql-resolver = { path = "../wasm-subsystem/wasm-graphql-resolver", optional = true }
exo-env = { path = "../../libs/exo-env" }

[features]
static-postgres-resolver = ["postgres-graphql-resolver"]
static-deno-resolver = ["deno-graphql-resolver"]
static-wasm-resolver = ["wasm-graphql-resolver"]

[lib]
doctest = false
