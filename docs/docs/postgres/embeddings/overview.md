---
sidebar_position: 10
slug: /postgres/embeddings
---

# Overview

Vector embeddings are a powerful tool in AI applications. They represent data in a high-dimensional space where similar data points are closer.

Embeddings generated by AI models from [OpenAI](https://platform.openai.com/docs/guides/embeddings/embedding-models), [Claude](https://docs.anthropic.com/claude/docs/embeddings), [Mistral](https://docs.mistral.ai/guides/embeddings/), and others condense the semantic essence of unstructured data into a small-size vector. The distance between two vectors indicates the similarity of the corresponding data. This capability opens up many possibilities, such as building recommendation systems, classifying data, and implementing AI techniques like [RAG (Retrieval Augmented Generation)](https://www.promptingguide.ai/techniques/rag).

Exograph supports embeddings using the [`pgvector`](https://github.com/pgvector/pgvector) extension. This support enables storing vector embeddings in Postgres along with other structured data. Exograph extends the GraphQL API to interact with the embeddings, making it easy to query and manipulate them. This, like other Exograph features, helps you focus on the AI-specific logic of your application while Exograph handles the database interactions.

Exograph's embedding support comes in the form of a new type: `Vector`. Fields of this type provide the ability to:

- Creating and migrating the database schema.
- Supporting mutation APIs to store the embeddings in that field.
- Extending retrieval and ordering APIs to use the distance from the given vector.

To use embeddings in your application, declare a field of the `Vector` type in your schema.

```exo
@postgres
module DocumentModule {
    @access(true)
    type Document {
        @pk id: Int = autoIncrement()
        title: String
        content: String
        // highlight-next-line
        contentVector: Vector?
    }
}
```

The `Vector` type feature plays well with the rest of Exograph's capabilities. For example, you can apply access control to your entities, so searching and sorting automatically consider the user's access rights, thus eliminating a source of privacy issues. You can even specify [field-level access control](https://exograph.dev/docs/postgres/access-control#field-level-access-control) to, for example, expose the vector representation only to privileged users.

Using embeddings in your application involves:

1. Computing vector representation using an AI model like OpenAI's [`text-embedding-3-small`](https://platform.openai.com/docs/guides/embeddings/embedding-models) and storing/updating the vector fields using Exograph APIs
2. Querying for similar documents using Exograph's query APIs

## Prerequisites

To use embeddings in Exograph in local Postgres, you must install the `pgvector` extension. Please refer to the [pgvector documentation](https://github.com/pgvector/pgvector?tab=readme-ov-file#installation) for installation instructions.

If you use a managed Postgres service, please check with your provider if they have enabled the `pgvector` extension.
